<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Error Handling &mdash; Pyrogram Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    <link rel="canonical" href="https://docs.pyrogram.org/start/errors.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="examples/index.html" />
    <link rel="prev" title="Handling Updates" href="updates.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Pyrogram
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/install.html">Install Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Project Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth.html">Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="invoking.html">Invoking Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="updates.html">Handling Updates</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Error Handling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rpcerror">RPCError</a></li>
<li class="toctree-l2"><a class="reference internal" href="#error-categories">Error Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#single-errors">Single Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unknown-errors">Unknown Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#errors-with-values">Errors with Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/client.html">Pyrogram Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/methods/index.html">Available Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/types/index.html">Available Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/bound-methods/index.html">Bound Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/enums/index.html">Enumerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/handlers.html">Update Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/decorators.html">Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/errors/index.html">RPC Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/filters.html">Update Filters</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Topic Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/use-filters.html">Using Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/create-filters.html">Creating Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/more-on-updates.html">More on Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/client-settings.html">Client Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/speedups.html">Speedups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/text-formatting.html">Text Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/synchronous.html">Synchronous Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/smart-plugins.html">Smart Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/storage-engines.html">Storage Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/serializing.html">Object Serialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/proxy.html">Proxy Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/scheduling.html">Scheduling Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/mtproto-vs-botapi.html">MTProto vs. Bot API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/test-servers.html">Test Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/advanced-usage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/voice-calls.html">Voice Calls</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Meta</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support Pyrogram</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Telegram Raw API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../telegram/functions/index.html">Raw Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../telegram/types/index.html">Raw Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../telegram/base/index.html">Raw Base</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pyrogram</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Error Handling</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="error-handling">
<h1>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this heading"></a></h1>
<p>Errors can be correctly handled with <code class="docutils literal notranslate"><span class="pre">try...except</span></code> blocks in order to control the behaviour of your application.
Pyrogram errors all live inside the <code class="docutils literal notranslate"><span class="pre">errors</span></code> package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyrogram</span> <span class="kn">import</span> <span class="n">errors</span>
</pre></div>
</div>
<div class="contents local topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#rpcerror" id="id1">RPCError</a></p></li>
<li><p><a class="reference internal" href="#error-categories" id="id2">Error Categories</a></p></li>
<li><p><a class="reference internal" href="#single-errors" id="id3">Single Errors</a></p></li>
<li><p><a class="reference internal" href="#unknown-errors" id="id4">Unknown Errors</a></p></li>
<li><p><a class="reference internal" href="#errors-with-values" id="id5">Errors with Values</a></p></li>
</ul>
</div>
<hr class="docutils" />
<section id="rpcerror">
<h2>RPCError<a class="headerlink" href="#rpcerror" title="Permalink to this heading"></a></h2>
<p>The father of all errors is named <code class="docutils literal notranslate"><span class="pre">RPCError</span></code> and is able to catch all Telegram API related errors.
This error is raised every time a method call against Telegram’s API was unsuccessful.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyrogram.errors</span> <span class="kn">import</span> <span class="n">RPCError</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Avoid catching this error everywhere, especially when no feedback is given (i.e. by logging/printing the full error
traceback), because it makes it impossible to understand what went wrong.</p>
</div>
</section>
<section id="error-categories">
<h2>Error Categories<a class="headerlink" href="#error-categories" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">RPCError</span></code> packs together all the possible errors Telegram could raise, but to make things tidier, Pyrogram
provides categories of errors, which are named after the common HTTP errors and are subclass-ed from the <code class="docutils literal notranslate"><span class="pre">RPCError</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyrogram.errors</span> <span class="kn">import</span> <span class="n">BadRequest</span><span class="p">,</span> <span class="n">Forbidden</span><span class="p">,</span> <span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="../api/errors/see-other.html"><span class="doc">303 - SeeOther</span></a></p></li>
<li><p><a class="reference internal" href="../api/errors/bad-request.html"><span class="doc">400 - BadRequest</span></a></p></li>
<li><p><a class="reference internal" href="../api/errors/unauthorized.html"><span class="doc">401 - Unauthorized</span></a></p></li>
<li><p><a class="reference internal" href="../api/errors/forbidden.html"><span class="doc">403 - Forbidden</span></a></p></li>
<li><p><a class="reference internal" href="../api/errors/not-acceptable.html"><span class="doc">406 - NotAcceptable</span></a></p></li>
<li><p><a class="reference internal" href="../api/errors/flood.html"><span class="doc">420 - Flood</span></a></p></li>
<li><p><a class="reference internal" href="../api/errors/internal-server-error.html"><span class="doc">500 - InternalServerError</span></a></p></li>
</ul>
</section>
<section id="single-errors">
<h2>Single Errors<a class="headerlink" href="#single-errors" title="Permalink to this heading"></a></h2>
<p>For a fine-grained control over every single error, Pyrogram does also expose errors that deal each with a specific
issue. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyrogram.errors</span> <span class="kn">import</span> <span class="n">FloodWait</span>
</pre></div>
</div>
<p>These errors subclass directly from the category of errors they belong to, which in turn subclass from the father
<code class="docutils literal notranslate"><span class="pre">RPCError</span></code>, thus building a class of error hierarchy such as this:</p>
<ul class="simple">
<li><dl class="simple">
<dt>RPCError</dt><dd><ul>
<li><dl class="simple">
<dt>BadRequest</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">MessageEmpty</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UsernameOccupied</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">...</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>InternalServerError</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">RpcCallFail</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">InterDcCallError</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">...</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">...</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="unknown-errors">
<h2>Unknown Errors<a class="headerlink" href="#unknown-errors" title="Permalink to this heading"></a></h2>
<p>In case Pyrogram does not know anything about a specific error yet, it raises a generic error from its known category,
for example, an unknown error with error code <code class="docutils literal notranslate"><span class="pre">400</span></code>, will be raised as a <code class="docutils literal notranslate"><span class="pre">BadRequest</span></code>. This way you can catch the
whole category of errors and be sure to also handle these unknown errors.</p>
</section>
<section id="errors-with-values">
<h2>Errors with Values<a class="headerlink" href="#errors-with-values" title="Permalink to this heading"></a></h2>
<p>Exception objects may also contain some informative values. For example, <code class="docutils literal notranslate"><span class="pre">FloodWait</span></code> holds the amount of seconds you
have to wait before you can try again, some other errors contain the DC number on which the request must be repeated on.
The value is stored in the <code class="docutils literal notranslate"><span class="pre">value</span></code> attribute of the exception object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyrogram.errors</span> <span class="kn">import</span> <span class="n">FloodWait</span>

<span class="o">...</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="o">...</span>  <span class="c1"># Your code</span>
    <span class="k">except</span> <span class="n">FloodWait</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># Wait N seconds before continuing</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="updates.html" class="btn btn-neutral float-left" title="Handling Updates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples/index.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>